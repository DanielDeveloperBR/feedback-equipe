<div class="mt-8">
    <h1 class="text-2xl text-center md:text-3xl font-bold text-[#2a2a72] mb-8">
      Lista de Feedbacks
    </h1>
  
    <div *ngIf="feedbacks.length > 0; else semFeedback"
         class="grid gap-4 mb-10"
         style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
  
      <div *ngFor="let fb of feedbacks; let i = index"
           class="bg-white p-5 rounded-xl shadow-md flex flex-col transition-transform hover:scale-[1.02]"
           [class.col-span-full]="
              fb.feedback.length > 200 || 
              feedbacks.length === 1 ||
              (feedbacks.length === 2 && i === 1)
           ">
  
        <!-- Cabeçalho -->
        <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 flex items-center justify-center rounded-full bg-[#2a2a72] text-white font-bold">
            {{ fb.nome.charAt(0).toUpperCase() }}
          </div>
          <div>
            <p class="font-semibold text-[#2a2a72]">{{ fb.nome }}</p>
            <p class="text-xs text-gray-500">{{ fb.email }}</p>
          </div>
        </div>
  
        <!-- Texto -->
        <p class="text-gray-700 overflow-hidden transition-all duration-300 ease-in-out"
           [style.maxHeight]="fb.expanded ? '500px' : '72px'">
          {{ fb.feedback }}
        </p>
  
        <!-- Botão ver mais -->
        <button *ngIf="fb.feedback.length > 120"
                class="text-sm text-blue-600 hover:underline mt-2 self-start"
                (click)="fb.expanded = !fb.expanded">
          {{ fb.expanded ? 'Ver menos' : 'Ver mais' }}
        </button>
  
        <!-- Rodapé -->
        <p class="text-xs text-gray-400 mt-3">
          Enviado em: {{ fb.criado_em | date:'dd/MM/yyyy HH:mm' }}
        </p>
      </div>
    </div>
  
    <ng-template #semFeedback>
      <p class="text-gray-500 text-center">Nenhum feedback recebido ainda.</p>
    </ng-template>
  </div>
  

  <!-- Enviar feedback -->
  
<main class="dashboard-content">
    <h1 class="text-2xl text-center md:text-3xl font-bold text-[#2a2a72] mb-8">
        Lista de Feedbacks
      </h1>
    <app-form [formGroup]="enviarFeedback" [fields]="
        {
        email: {type: 'email', label: 'Email', placeholder: 'Digite o email do usuário'},
        feedback: {type: 'text', label: 'Feedback', placeholder: 'Escreva seu feedback'}
        }" submitButtonText="Enviar" (submitEvent)="handleFormSubmit()">
    </app-form>
    <a class="flex items-center justify-center bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-full text-x3 mx-auto"
        style="max-width: 400px;" href="/dashboard">Voltar</a>
</main>